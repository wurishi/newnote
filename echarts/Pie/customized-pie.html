<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <meta charset="UTF-8" />
    <script src="../node_modules/echarts/dist/echarts.min.js"></script>
    <script src="../d3.v5.js"></script>
  </head>
  <body>
    <div id="main"></div>
    <script>
      const width = 640;
      const height = 480;
      const main = document.getElementById('main');
      main.style.width = `${width}px`;
      main.style.height = `${height}px`;

      const myChart = echarts.init(main);
      const option = {
        backgroundColor: '#2c343c',
        title: {
          text: 'Customized Pie',
          left: 'center',
          top: 20,
          textStyle: {
            color: '#ccc',
          },
        },
        toolbox: {
          feature: {
            saveAsImage: {},
          },
        },
        tooltip: {
          trigger: 'item',
          formatter: '{a} <br/> {b} : {c} ({d}%)',
        },
        visualMap: {
          show: false,
          min: 80,
          max: 600,
          inRnage: {
            colorLightness: [0, 1],
          },
        },
        // xAxis: {},
        // yAxis: {},
        series: [
          {
            name: '访问来源',
            type: 'pie',
            radius: '55%',
            center: ['50%', '50%'],
            data: [
              { value: 335, name: '直接访问' },
              { value: 310, name: '邮件营销' },
              { value: 274, name: '联盟广告' },
              { value: 235, name: '视频广告' },
              { value: 400, name: '搜索引擎' },
            ].sort((a, b) => a.value - b.value),
            roseType: 'radius', //
            label: {
              color: 'rgba(255,255,255,0.3)',
            },
            labelLine: {
              lineStyle: {
                color: 'rgba(255,255,255,0.3)',
              },
              smooth: 0.2,
              length: 10,
              length2: 20,
            },
            itemStyle: {
              color: '#c23531',
              shadowBlur: 200,
              shadowColor: 'rgba(0,0,0,0.5)',
            },
            animationType: 'scale',
            animationEasing: 'elasticOut',
            animationDelay: () => Math.random() * 200,
          },
        ],
      };
      myChart.setOption(option);
    </script>
  </body>
</html>
