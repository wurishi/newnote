// // const arr = [
// //   1, 4, 7, 10, 13, 16, 19, 21, 23, 25, 27, 29, 35, 37, 39, 41, 43, 46, 48, 50,
// //   52, 54, 56, 58, 60, 63, 66, 69, 72, 74, 77, 79, 81, 83, 86, 88, 90, 92, 95,
// //   96, 98, 100, 102, 104, 106, 108, 109, 111, 113, 114, 115, 116, 118, 120, 122,
// //   123, 124, 125, 126, 127, 129, 131, 132, 133, 137, 140, 143, 144, 145, 146,
// //   147, 150, 151,
// // ];
// // const arr = [152, 155, 158, 161, 163,165,
// // 167,168,169,170,171,172,173,174,175,177,
// // 179,181,182,185,186,187,
// // 190,191,193,194,195,198,199,200,
// // 201,20
// // ]
// const start = 901;
// const end = 1010;
// const content = [];
// for (let id = start; id <= end; id++) {
//   content.push(`[Pokemon ${id}]`);
//   const id6 = id.toString(16).toUpperCase();
//   let zero = new Array(8 - id6.length).fill('0');
//   content.push(`08000000 03075530 00000000 ${zero.join('')}${id6}`);
//   content.push('');
// }

const fs = require('fs');
const path = require('path');

const can = JSON.parse(
  fs.readFileSync(path.join(__dirname, 'can.json'), 'utf-8')
);
const code0 = JSON.parse(
  fs.readFileSync(path.join(__dirname, 'code.json'), 'utf-8')
);
const code1 = JSON.parse(
  fs.readFileSync(path.join(__dirname, 'code1.json'), 'utf-8')
);
const code = { ...code0 };
Reflect.ownKeys(code1).forEach((key) => {
  code[key] = {
    ch: code1[key],
    en: '',
  };
});
// console.log(code);

const template1 = `{宝可梦 朱 v1.0.1}

[秒杀]
040B0000 0301ADB4 B9405002
040B0000 0301ADB8 36100042
040B0000 0301ADBC 2A0803E1
040B0000 0301ADC0 6B21211F
040B0000 0301ADC4 17E4147A
040B0000 0291FFA8 141BEB83

[HP不减]
040B0000 030750A0 7940B408
040B0000 030750A4 B9405002
040B0000 030750A8 37100042
040B0000 030750AC 2A1F03E1
040B0000 030750B0 17E4050B
040B0000 029764D8 141BFAF2

[PP不减]
040B0000 02975754 4B3F0122

[道具不减]
040B0000 030750D8 D2805461
040B0000 030750DC F2A040A1
040B0000 030750E0 6B01029F
040B0000 030750E4 54000041
040B0000 030750E8 2A1F03E8
040B0000 030750EC CB080148
040B0000 030750F0 173F3708
040B0000 00042D0C 14C0C8F3

[必定捕获]
040B0000 016D1BD0 52800028
040B0000 016D1BDC 1400001A
040B0000 016D1C28 52800028
040B0000 016D1C54 52800028

[修改效果还原]
040B0000 029764D8 7940B408
040B0000 029764DC 6B21211F
040B0000 02975754 4B220122
040B0000 00042C34 F9400108
040B0000 00042D0C CB080148
040B0000 00D12BE0 2A0803E0
040B0000 01685E1C 2A0603F6
040B0000 01EE08F0 B85FC3A0
040B0000 016D1BD0 12000008
040B0000 016D1BDC 5400034A
040B0000 016D1C28 52800068
040B0000 016D1C54 52800068

[游戏的速度-1.0x v1.0.1_.分享]
04090000 03826ED8 01FCA056

[游戏的速度-2.0x v1.0.1_.分享]
04090000 03826ED8 03F940AB

[--以下为.分享提供--]
00000000 00000000 00000000

[遭遇 关闭 (v1.0.1)]
04000000 00D0A610 39402288

[遭遇 开启 (v1.0.1)]
04000000 00D0A610 148DABBC
04000000 03075500 18000181
04000000 03075504 790063E1
04000000 03075508 18000161
04000000 0307550C 790067E1
04000000 03075510 18000141
04000000 03075514 79006BE1
04000000 03075518 18000121
04000000 0307551C 3900DBE1
04000000 03075520 39402288
04000000 03075524 1772543C
04000000 03075530 00000085
04000000 03075534 00000000
04000000 03075538 00000000
04000000 0307553C 00000001

[默认遭遇 (v1.0.1)]
04000000 03075500 D503201F
04000000 03075504 D503201F
04000000 03075508 D503201F
04000000 0307550C D503201F

[遭遇 #908 叶 (v1.0.1)]
08000000 03075530 000000000000038C

[遭遇 #911 火 (v1.0.1)]
08000000 03075530 000000000000038F

[遭遇 #914 水(v1.0.1)]
08000000 03075530 0000000000000392

{content}

[遭遇 Lv 100 (v1.0.1)]
04000000 0307553C 00000064

[6V 开启]
04000000 00D0AB20 528003E1
04000000 00D0AB2C 528003E1
04000000 00D0AB38 528003E1
04000000 00D0AB44 528003E1
04000000 00D0AB50 528003E1
04000000 00D0AB5C 528003E1

[6V 关闭]
04000000 00D0AB20 394103E1
04000000 00D0AB2C 39410BE1
04000000 00D0AB38 394113E1
04000000 00D0AB44 39411BE1
04000000 00D0AB50 394123E1
04000000 00D0AB5C 39412BE1

[(+攻击, -速度) 勇敢 (1.0.1)]
04000000 00D0AAB4 52800041
04000000 00D0AAC0 52800041

[(+特攻, -速度) 冷静 (1.0.1)]
04000000 00D0AAB4 52800221
04000000 00D0AAC0 52800221

[--以上为.分享提供--]
00000000 00000000 00000000
`;

const template2 = `{宝可梦紫 v1.0.1 }

[秒杀]
040B0000 0301ADB4 B9405002
040B0000 0301ADB8 36100042
040B0000 0301ADBC 2A0803E1
040B0000 0301ADC0 6B21211F
040B0000 0301ADC4 17E4147A
040B0000 0291FFA8 141BEB83

[HP不减]
040B0000 030750A0 7940B408
040B0000 030750A4 B9405002
040B0000 030750A8 37100042
040B0000 030750AC 2A1F03E1
040B0000 030750B0 17E4050B
040B0000 029764D8 141BFAF2

[PP不减]
040B0000 02975754 4B3F0122

[道具不减]
040B0000 030750D8 D2805461
040B0000 030750DC F2A040A1
040B0000 030750E0 6B01029F
040B0000 030750E4 54000041
040B0000 030750E8 2A1F03E8
040B0000 030750EC CB080148
040B0000 030750F0 173F3708
040B0000 00042D0C 14C0C8F3

[必定捕获]
040B0000 016D1BD0 52800028
040B0000 016D1BDC 1400001A
040B0000 016D1C28 52800028
040B0000 016D1C54 52800028

[修改效果还原]
040B0000 029764D8 7940B408
040B0000 029764DC 6B21211F
040B0000 02975754 4B220122
040B0000 00042C34 F9400108
040B0000 00042D0C CB080148
040B0000 00D12BE0 2A0803E0
040B0000 01685E1C 2A0603F6
040B0000 01EE08F0 B85FC3A0
040B0000 016D1BD0 12000008
040B0000 016D1BDC 5400034A
040B0000 016D1C28 52800068
040B0000 016D1C54 52800068

[游戏的速度-1.0x v1.0.1_.分享]
04090000 03826ED8 01FCA056

[游戏的速度-2.0x v1.0.1_.分享]
04090000 03826ED8 03F940AB

[--以下为.分享提供--]
00000000 00000000 00000000 

[遭遇 关闭 (v1.0.1)]
04000000 00D0A610 39402288

[遭遇 开启 (v1.0.1)]
04000000 00D0A610 148DABBC
04000000 03075500 18000181
04000000 03075504 790063E1
04000000 03075508 18000161
04000000 0307550C 790067E1
04000000 03075510 18000141
04000000 03075514 79006BE1
04000000 03075518 18000121
04000000 0307551C 3900DBE1
04000000 03075520 39402288
04000000 03075524 1772543C
04000000 03075530 00000085
04000000 03075534 00000000
04000000 03075538 00000000
04000000 0307553C 00000001

[默认遭遇 (v1.0.1)]
04000000 03075500 D503201F
04000000 03075504 D503201F
04000000 03075508 D503201F
04000000 0307550C D503201F

[遭遇 #908 叶 (v1.0.1)]
08000000 03075530 000000000000038C

[遭遇 #911 火 (v1.0.1)]
08000000 03075530 000000000000038F

[遭遇 #914 水(v1.0.1)]
08000000 03075530 0000000000000392

{content}

[遭遇 Lv 20 (v1.0.1)]
04000000 0307553C 00000014

[遭遇 Lv 40 (v1.0.1)]
04000000 0307553C 00000028

[遭遇Lv 60 (v1.0.1)]
04000000 0307553C 0000003C

[遭遇 Lv 80 (v1.0.1)]
04000000 0307553C 00000050

[遭遇 Lv 100 (v1.0.1)]
04000000 0307553C 00000064

[6V 开启]
04000000 00D0AB20 528003E1
04000000 00D0AB2C 528003E1
04000000 00D0AB38 528003E1
04000000 00D0AB44 528003E1
04000000 00D0AB50 528003E1
04000000 00D0AB5C 528003E1

[6V 关闭]
04000000 00D0AB20 394103E1
04000000 00D0AB2C 39410BE1
04000000 00D0AB38 394113E1
04000000 00D0AB44 39411BE1
04000000 00D0AB50 394123E1
04000000 00D0AB5C 39412BE1

[(+攻击, -特攻) 固执 (1.0.1)]
04000000 00D0AAB4 52800061
04000000 00D0AAC0 52800061

[(+特攻, -攻击) 内敛 (1.0.1)]
04000000 00D0AAB4 528001E1
04000000 00D0AAC0 528001E1

[--以上为.分享提供--]
00000000 00000000 00000000
`

const template = template2 // 1朱 2紫
const contentMap = {};
for (let i = 4; i <= 1010; i++) {
  if (code[i] && can[i]) {
    const key = Math.floor(i / 100);
    const fileKey = (i % 100 > 50) ? key + '_1' : key + '_0'
    const content = contentMap[fileKey] || [];
    content.push(`[遭遇 #${i} ${code[i].ch}]`);
    const id6 = i.toString(16).toUpperCase();
    let zero = new Array(8 - id6.length).fill('0');
    content.push(`08000000 03075530 00000000${zero.join('')}${id6}`);
    content.push('');
    contentMap[fileKey] = content;
  }
}

// B26A631109A29124 朱
// F7F74F8045642CBE 紫

Reflect.ownKeys(contentMap).forEach((key) => {
  const content = contentMap[key];
  const str = template.replace('{content}', content.join('\n'));
  fs.writeFileSync(
    path.join(__dirname, 'F7F74F8045642CBE_' + key + '.txt'),
    str,
    'utf-8'
  );
});
